{% extends 'base.html' %}

{% block title %}HR Dashboard{% endblock %}

{% block content %}
    <!-- Navigation -->
    <nav class="navbar">
        <a href="{{ url_for('hr_dashboard') }}" class="logo">
            <i class="fas fa-brain"></i>
            <span>CareerSync</span>
        </a>

        <div class="nav-links">
            <a href="{{ url_for('hr_dashboard') }}" class="nav-link">Dashboard</a>
            <a href="#post-job" class="nav-link">Post Job</a>
            <a href="#candidates" class="nav-link">Candidates</a>
            <a href="#analytics" class="nav-link">Analytics</a>
        </div>
        <div class="cta-buttons">
            <span style="color: #cbd5e1; margin-right: 15px;">Welcome, {{ user_name }}</span>
            <a href="{{ url_for('logout') }}" class="btn btn-outline">Logout</a>
        </div>
    </nav>

    <!-- HR Dashboard Content -->
    <section class="hero" style="padding: 120px 40px 40px;">
        <div class="hero-content">
            <div class="hero-text">
                <h1>HR Dashboard</h1>
                <p>Manage job postings, review candidates, and find the perfect match for your company.</p>
            </div>
        </div>
    </section>

    <!-- Job Posting Section -->
    <section class="features" id="post-job">
        <div class="section-header">
            <h2 class="section-title">Post New Job</h2>
            <p class="section-subtitle">Fill in the details to create a new job posting</p>
        </div>
        
        <div class="dashboard-preview" style="max-width: 800px; margin: 0 auto;">
            <form id="postJobForm" method="POST" action="{{ url_for('post_job') }}">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #94a3b8; font-size: 14px;">Job Title</label>
                        <input type="text" name="title" placeholder="e.g., Senior Software Engineer" required style="width: 100%; padding: 12px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #94a3b8; font-size: 14px;">Company</label>
                        <input type="text" name="company" placeholder="Your company name" required style="width: 100%; padding: 12px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white;">
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; color: #94a3b8; font-size: 14px;">Job Description</label>
                    <textarea name="description" rows="4" placeholder="Detailed job description..." required style="width: 100%; padding: 12px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white; resize: vertical;"></textarea>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; color: #94a3b8; font-size: 14px;">Requirements (one per line)</label>
                    <textarea name="requirements" rows="3" placeholder="‚Ä¢ 3+ years experience\n‚Ä¢ Python knowledge\n‚Ä¢ Team player" style="width: 100%; padding: 12px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white; resize: vertical;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #94a3b8; font-size: 14px;">Location</label>
                        <input type="text" name="location" placeholder="City, Country" style="width: 100%; padding: 12px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white;">
                    </div>
                    <div class="form-group">
                        <label style="display: block; margin-bottom: 8px; color: #94a3b8; font-size: 14px;">Salary Range</label>
                        <input type="text" name="salary_range" placeholder="e.g., $80,000 - $120,000" style="width: 100%; padding: 12px; background: rgba(15, 23, 42, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white;">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 16px; font-size: 16px;">
                    <i class="fas fa-plus-circle" style="margin-right: 10px;"></i>
                    Post Job
                </button>
            </form>
        </div>
    </section>

    <!-- Existing Job Postings -->
    <section class="how-it-works" id="candidates">
        <div class="section-header">
            <h2 class="section-title">Your Job Postings</h2>
            <p class="section-subtitle">Manage your existing job postings and view applications</p>
        </div>
        
        <div style="max-width: 1000px; margin: 0 auto;">
            {% if job_postings %}
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px;">
                    {% for job in job_postings %}
                    <div class="feature-card" style="position: relative;">
                        <div style="position: absolute; top: 20px; right: 20px; padding: 4px 12px; background: rgba(59, 130, 246, 0.1); color: var(--accent-color); border-radius: 20px; font-size: 12px; font-weight: 600;">
                            {{ job.posted_date.strftime('%b %d, %Y') }}
                        </div>
                        
                        <h3 style="margin-bottom: 10px;">{{ job.title }}</h3>
                        <p style="color: #3b82f6; margin-bottom: 15px; font-weight: 600;">{{ job.company }}</p>
                        
                        <p style="color: #94a3b8; margin-bottom: 15px; font-size: 14px; line-height: 1.5;">
                            {{ job.description[:150] }}...
                        </p>
                        
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <span style="padding: 4px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 12px; font-size: 12px;">
                                üìç {{ job.location or 'Remote' }}
                            </span>
                            {% if job.salary_range %}
                            <span style="padding: 4px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 12px; font-size: 12px;">
                                üí∞ {{ job.salary_range }}
                            </span>
                            {% endif %}
                        </div>
                        
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                            <a href="#" class="btn btn-outline" style="padding: 8px 16px; font-size: 14px; width: 100%; text-align: center;">
                                <i class="fas fa-eye" style="margin-right: 8px;"></i>
                                View Applications (0)
                            </a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="dashboard-preview" style="text-align: center; padding: 40px;">
                    <i class="fas fa-briefcase" style="font-size: 48px; color: #94a3b8; margin-bottom: 20px;"></i>
                    <h3 style="margin-bottom: 10px;">No Job Postings Yet</h3>
                    <p style="color: #94a3b8;">Post your first job to start receiving applications from qualified candidates.</p>
                </div>
            {% endif %}
        </div>
    </section>
{% endblock %}
