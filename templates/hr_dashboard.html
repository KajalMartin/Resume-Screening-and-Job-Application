{% extends 'base.html' %}

{% block title %}HR Dashboard{% endblock %}

{% block content %}
    <!-- Navigation -->
    <nav class="navbar-hr-dashboard">
        <a href="/" class="logo">
            <i class="fas fa-brain"></i>
            <span>CareerSync</span>
        </a>
        <div class="cta-buttons">
            <span class="nav-link" style="margin-right: 15px;">Welcome, John Doe</span>
            <a href="#" class="btn btn-outline">Logout</a>
        </div>
    </nav>

    <!-- Main Dashboard Content -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <div class="sidebar-header">
                <div class="user-profile">
                    <div class="profile-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="profile-info">
                        <!-- Name -->
                        <h4>John Doe</h4>
                        <span class="badge badge-hr">HR Manager</span>
                    </div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <a href="#" class="sidebar-link active">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-link">
                    <i class="fas fa-briefcase"></i>
                    <span>Job Postings</span>
                    <span class="sidebar-badge">6</span>
                </a>
                <a href="#" class="sidebar-link">
                    <i class="fas fa-users"></i>
                    <span>Candidates</span>
                    <span class="sidebar-badge">24</span>
                </a>
                <a href="#" class="sidebar-link">
                    <i class="fas fa-file-alt"></i>
                    <span>Applications</span>
                    <span class="sidebar-badge">156</span>
                </a>
                <a href="#" class="sidebar-link">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <button class="btn btn-primary btn-block" id="postJobBtn">
                    <i class="fas fa-plus"></i> Post New Job
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-content">
            <!-- Header -->
            <div class="dashboard-header">
                <h1>HR Dashboard</h1>
                <div class="header-actions">
                    <div class="date-display">
                        <i class="fas fa-calendar-alt"></i>
                        <span id="current-date"></span>
                    </div>
                </div>
            </div>

            <!-- KPI Cards -->
            <div class="kpi-section">
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-icon" style="background: rgba(16, 185, 129, 0.1);">
                            <i class="fas fa-briefcase" style="color: #10b981;"></i>
                        </div>
                        <div class="kpi-content">
                            <h3>6</h3>
                            <p>Active Jobs</p>
                        </div>
                        <div class="kpi-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            12%
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon" style="background: rgba(59, 130, 246, 0.1);">
                            <i class="fas fa-users" style="color: #3b82f6;"></i>
                        </div>
                        <div class="kpi-content">
                            <h3>156</h3>
                            <p>Total Applications</p>
                        </div>
                        <div class="kpi-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            24%
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon" style="background: rgba(245, 158, 11, 0.1);">
                            <i class="fas fa-user-check" style="color: #f59e0b;"></i>
                        </div>
                        <div class="kpi-content">
                            <h3>42</h3>
                            <p>Shortlisted</p>
                        </div>
                        <div class="kpi-trend positive">
                            <i class="fas fa-arrow-up"></i>
                            8%
                        </div>
                    </div>
                </div>
            </div>

            <!-- Two Column Layout -->
            <div class="dashboard-grid">
            
            <!-- Activity Timeline -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Recent Activity</h3>
                    </div>
                    <div class="card-body">
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h5>New application received</h5>
                                    <p>John Doe applied for Senior Developer position</p>
                                    <span class="timeline-time">2 hours ago</span>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h5>Job posted</h5>
                                    <p>Posted "Frontend Developer" position</p>
                                    <span class="timeline-time">1 day ago</span>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-marker"></div>
                                <div class="timeline-content">
                                    <h5>Candidate shortlisted</h5>
                                    <p>Jane Smith shortlisted for UX Designer role</p>
                                    <span class="timeline-time">2 days ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Job Postings -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Recent Job Postings</h3>
                        <a href="#" class="btn-text" id="viewAllJobs">View All →</a>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Job Title</th>
                                        <th>Applications</th>
                                        <th>Posted Date</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <strong>Senior Software Engineer</strong>
                                            <div class="text-muted">Tech Corp Inc.</div>
                                        </td>
                                        <td>
                                            <span class="badge badge-count">42</span>
                                        </td>
                                        <td>Jan 15, 2024</td>
                                        <td>
                                            <span class="badge badge-active">Active</span>
                                        </td>
                                        <td>
                                            <button class="btn-icon" title="View Details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <strong>UX Designer</strong>
                                            <div class="text-muted">Design Studio</div>
                                        </td>
                                        <td>
                                            <span class="badge badge-count">28</span>
                                        </td>
                                        <td>Jan 10, 2024</td>
                                        <td>
                                            <span class="badge badge-active">Active</span>
                                        </td>
                                        <td>
                                            <button class="btn-icon" title="View Details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <strong>Data Scientist</strong>
                                            <div class="text-muted">Analytics Pro</div>
                                        </td>
                                        <td>
                                            <span class="badge badge-count">35</span>
                                        </td>
                                        <td>Jan 5, 2024</td>
                                        <td>
                                            <span class="badge badge-active">Active</span>
                                        </td>
                                        <td>
                                            <button class="btn-icon" title="View Details">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Edit">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- New Candidates -->
                <div class="dashboard-card candidate">
                    <div class="card-header">
                        <h3>New Candidates</h3>
                        <a href="#" class="btn-text" id="viewAllCandidates">View All →</a>
                    </div>
                    <div class="card-body">
                        <div class="candidates-list">
                            <div class="candidate-item">
                                <div class="candidate-avatar">
                                    JS
                                </div>
                                <div class="candidate-info">
                                    <h4>John Smith</h4>
                                    <p>Senior Software Engineer</p>
                                    <div class="candidate-tags">
                                        <span class="tag">5+ years</span>
                                        <span class="tag">Master's</span>
                                    </div>
                                </div>
                                <div class="candidate-actions">
                                    <button class="btn btn-outline btn-sm view-profile">View Profile</button>
                                </div>
                            </div>
                            <div class="candidate-item">
                                <div class="candidate-avatar">
                                    EW
                                </div>
                                <div class="candidate-info">
                                    <h4>Emma Wilson</h4>
                                    <p>UX Designer</p>
                                    <div class="candidate-tags">
                                        <span class="tag">3-5 years</span>
                                        <span class="tag">Bachelor's</span>
                                    </div>
                                </div>
                                <div class="candidate-actions">
                                    <button class="btn btn-outline btn-sm view-profile">View Profile</button>
                                </div>
                            </div>
                            <div class="candidate-item">
                                <div class="candidate-avatar">
                                    MC
                                </div>
                                <div class="candidate-info">
                                    <h4>Michael Chen</h4>
                                    <p>Data Scientist</p>
                                    <div class="candidate-tags">
                                        <span class="tag">2-4 years</span>
                                        <span class="tag">PhD</span>
                                    </div>
                                </div>
                                <div class="candidate-actions">
                                    <button class="btn btn-outline btn-sm view-profile">View Profile</button>
                                </div>
                            </div>
                            <div class="candidate-item">
                                <div class="candidate-avatar">
                                    SJ
                                </div>
                                <div class="candidate-info">
                                    <h4>Sarah Johnson</h4>
                                    <p>Product Manager</p>
                                    <div class="candidate-tags">
                                        <span class="tag">7+ years</span>
                                        <span class="tag">MBA</span>
                                    </div>
                                </div>
                                <div class="candidate-actions">
                                    <button class="btn btn-outline btn-sm view-profile">View Profile</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <!-- <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Quick Stats</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-value">92%</div>
                                <div class="stat-label">Match Accuracy</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">8.2x</div>
                                <div class="stat-label">Faster Screening</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">24</div>
                                <div class="stat-label">Active Interviews</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">78%</div>
                                <div class="stat-label">Candidate Response Rate</div>
                            </div>
                        </div>
                    </div>
                </div> -->
            </div>
        </main>
    </div>

    <!-- Job Posting Modal -->
    <div id="jobModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Post New Job</h3>
                <button class="modal-close" id="closeJobModal">×</button>
            </div>
            <form id="postJobForm">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="jobTitle">Job Title *</label>
                            <input type="text" id="jobTitle" name="title" placeholder="e.g., Senior Software Engineer" required>
                        </div>
                        <div class="form-group">
                            <label for="company">Company *</label>
                            <input type="text" id="company" name="company" placeholder="Your company name" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" name="location" placeholder="e.g., Remote, New York, etc.">
                        </div>
                        <div class="form-group">
                            <label for="salaryRange">Salary Range</label>
                            <input type="text" id="salaryRange" name="salary_range" placeholder="e.g., $80,000 - $120,000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="jobDescription">Job Description *</label>
                        <textarea id="jobDescription" name="description" rows="4" placeholder="Describe the role, responsibilities, and expectations..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="requirements">Requirements & Skills *</label>
                        <textarea id="requirements" name="requirements" rows="3" placeholder="List required skills, experience, and qualifications..." required></textarea>
                        <small>Separate requirements with commas or bullets</small>
                    </div>

                    <div class="form-group">
                        <label>Job Type</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="job_type" value="fulltime" checked>
                                <span>Full-time</span>
                            </label>

                            <label class="radio-label">
                                <input type="radio" name="job_type" value="parttime">
                                <span>Part-time</span>
                            </label>

                            <label class="radio-label">
                                <input type="radio" name="job_type" value="contract">
                                <span>Contract</span>
                            </label>

                            <label class="radio-label">
                                <input type="radio" name="job_type" value="remote">
                                <span>Remote</span>
                            </label>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" id="cancelJob">Cancel</button>
                    <button type="submit" class="btn btn-primary">Post Job</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Candidate Analytics Modal -->
    <div id="candidateModal" class="modal">
        <div class="modal-content wide-modal">
            <div class="modal-header">
                <h3>Candidate Analytics</h3>
                <button class="modal-close" id="closeCandidateModal">×</button>
            </div>
            <div class="modal-body">
                <div class="analytics-container">
                    <!-- Left Panel: Candidate Info -->
                    <div class="candidate-profile-panel">
                        <div class="profile-header">
                            <div class="profile-avatar-large">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="profile-info-large">
                                <h3>John Smith</h3>
                                <p class="job-title">Senior Software Engineer</p>
                                <div class="match-score">
                                    <span class="score-badge">92% Match</span>
                                </div>
                            </div>
                        </div>

                        <div class="profile-details">
                            <div class="detail-item">
                                <label><i class="fas fa-envelope"></i> Email</label>
                                <p>john.smith@email.com</p>
                            </div>
                            <div class="detail-item">
                                <label><i class="fas fa-phone"></i> Phone</label>
                                <p>+1 (555) 123-4567</p>
                            </div>
                            <div class="detail-item">
                                <label><i class="fas fa-briefcase"></i> Experience</label>
                                <p>5+ years</p>
                            </div>
                            <div class="detail-item">
                                <label><i class="fas fa-graduation-cap"></i> Education</label>
                                <p>Master's in Computer Science</p>
                            </div>
                        </div>

                        <div class="skills-section">
                            <h4>Skills</h4>
                            <div class="skills-tags">
                                <span class="skill-tag">Python</span>
                                <span class="skill-tag">JavaScript</span>
                                <span class="skill-tag">React</span>
                                <span class="skill-tag">Node.js</span>
                                <span class="skill-tag">AWS</span>
                                <span class="skill-tag">Docker</span>
                                <span class="skill-tag">Machine Learning</span>
                            </div>
                        </div>
                    </div>

                    <!-- Right Panel: Job Match Analysis -->
                    <div class="analysis-panel">
                        <div class="job-selection">
                            <label for="selectJobForAnalysis">Select Job for Analysis:</label>
                            <select id="selectJobForAnalysis" class="job-select">
                                <option value="">Select a job</option>
                                <option value="1">Senior Software Engineer</option>
                                <option value="2">UX Designer</option>
                                <option value="3">Data Scientist</option>
                                <option value="4">Product Manager</option>
                            </select>
                        </div>

                        <div class="match-analysis">
                            <div class="match-score-display">
                                <div class="score-circle">
                                    <div class="circle-progress" data-progress="92"></div>
                                    <div class="score-text">92%</div>
                                </div>
                                <div class="score-info">
                                    <h4>Overall Match Score</h4>
                                    <p>Excellent match for Senior Software Engineer position</p>
                                </div>
                            </div>

                            <div class="skills-match">
                                <h4>Skills Match</h4>
                                <div class="skill-bar">
                                    <div class="skill-name">Python</div>
                                    <div class="skill-progress-bar">
                                        <div class="skill-progress" style="width: 95%"></div>
                                    </div>
                                    <div class="skill-percentage">95%</div>
                                </div>
                                <div class="skill-bar">
                                    <div class="skill-name">JavaScript</div>
                                    <div class="skill-progress-bar">
                                        <div class="skill-progress" style="width: 88%"></div>
                                    </div>
                                    <div class="skill-percentage">88%</div>
                                </div>
                                <div class="skill-bar">
                                    <div class="skill-name">AWS</div>
                                    <div class="skill-progress-bar">
                                        <div class="skill-progress" style="width: 75%"></div>
                                    </div>
                                    <div class="skill-percentage">75%</div>
                                </div>
                            </div>

                            <div class="job-details-section">
                                <h4>Selected Job Details</h4>
                                <div class="job-details-card">
                                    <h5>Senior Software Engineer</h5>
                                    <p><strong>Company:</strong> Tech Corp Inc.</p>
                                    <p><strong>Location:</strong> Remote</p>
                                    <p><strong>Salary:</strong> $120,000 - $150,000</p>
                                    <p><strong>Requirements:</strong> 5+ years experience, Python, JavaScript, Cloud experience</p>
                                </div>
                            </div>

                            <div class="action-buttons">
                                <button class="btn btn-primary">
                                    <i class="fas fa-check"></i> Shortlist Candidate
                                </button>
                                <button class="btn btn-outline">
                                    <i class="fas fa-times"></i> Reject
                                </button>
                                <button class="btn btn-secondary">
                                    <i class="fas fa-calendar-alt"></i> Schedule Interview
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
